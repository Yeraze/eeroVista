<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.0</version>
    <date>2025-10-20T12:00:00Z</date>
    <templates>
        <template>
            <uuid>d5e52d5d-3f3f-4f8a-8e5e-4c3b2a1f0e9d</uuid>
            <template>eeroVista Network Monitor</template>
            <name>eeroVista Network Monitor</name>
            <description>Template for monitoring Eero mesh networks via eeroVista API.

Features:
- Network-wide metrics (total/online devices, WAN status)
- Per-device monitoring with Low-Level Discovery
- Per-node monitoring with Low-Level Discovery
- Speedtest metrics
- Automatic trigger generation for offline devices and weak signals

Requirements:
- eeroVista instance running and accessible
- HTTP agent connectivity from Zabbix server to eeroVista

Configuration:
1. Create a host for your eeroVista instance
2. Set interface to HTTP agent
3. Set {$EEROVISTA_PORT} macro (default: 8080)
4. Link this template to the host

Documentation: https://github.com/Yeraze/eeroVista</description>
            <groups>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>a1b2c3d4-e5f6-47a8-a9b0-c1d2e3f4a5b6</uuid>
                    <name>Network: Total Devices</name>
                    <type>HTTP_AGENT</type>
                    <key>network.devices.total</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Total number of devices known to the network</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=network.devices.total</url>
                </item>
                <item>
                    <uuid>b2c3d4e5-f6a7-48a9-b0c1-d2e3f4a5b6c7</uuid>
                    <name>Network: Online Devices</name>
                    <type>HTTP_AGENT</type>
                    <key>network.devices.online</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Number of currently connected/online devices</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=network.devices.online</url>
                </item>
                <item>
                    <uuid>c3d4e5f6-a7b8-49c0-a1b2-d3e4f5a6b7c8</uuid>
                    <name>Network: WAN Status</name>
                    <type>HTTP_AGENT</type>
                    <key>network.status</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>WAN/Internet connection status (1=online, 0=offline)</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=network.status</url>
                    <triggers>
                        <trigger>
                            <uuid>d1e2f3a4-b5c6-47d8-a9b0-c1d2e3f4a5b6</uuid>
                            <expression>last(/eeroVista Network Monitor/network.status)=0</expression>
                            <name>Network WAN is offline</name>
                            <priority>DISASTER</priority>
                            <description>The WAN/Internet connection is offline</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>e4f5a6b7-c8d9-4e0f-a1b2-c3d4e5f6a7b8</uuid>
                    <name>Speedtest: Download Speed</name>
                    <type>HTTP_AGENT</type>
                    <key>speedtest.download</key>
                    <delay>5m</delay>
                    <history>30d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Mbps</units>
                    <description>Latest speedtest download speed in Mbps</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>speedtest</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=speedtest.download</url>
                    <triggers>
                        <trigger>
                            <uuid>f2a3b4c5-d6e7-4f8a-b9c0-d1e2f3a4b5c6</uuid>
                            <expression>last(/eeroVista Network Monitor/speedtest.download)&lt;{$SPEED_WARN}</expression>
                            <name>Internet speed is slow (download &lt; {$SPEED_WARN} Mbps)</name>
                            <priority>WARNING</priority>
                            <description>Download speed has dropped below warning threshold</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a5b6c7d8-e9f0-4a1b-82d3-e4f5a6b7c8d9</uuid>
                    <name>Speedtest: Upload Speed</name>
                    <type>HTTP_AGENT</type>
                    <key>speedtest.upload</key>
                    <delay>5m</delay>
                    <history>30d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Mbps</units>
                    <description>Latest speedtest upload speed in Mbps</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>speedtest</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=speedtest.upload</url>
                </item>
                <item>
                    <uuid>b6c7d8e9-f0a1-4b2c-93e4-f5a6b7c8d9e0</uuid>
                    <name>Speedtest: Latency</name>
                    <type>HTTP_AGENT</type>
                    <key>speedtest.latency</key>
                    <delay>5m</delay>
                    <history>30d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>ms</units>
                    <description>Latest speedtest latency/ping in milliseconds</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>speedtest</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=speedtest.latency</url>
                    <triggers>
                        <trigger>
                            <uuid>c3d4e5f6-a7b8-49c0-91e2-f3a4b5c6d7e8</uuid>
                            <expression>last(/eeroVista Network Monitor/speedtest.latency)&gt;{$LATENCY_WARN}</expression>
                            <name>Internet latency is high (&gt; {$LATENCY_WARN} ms)</name>
                            <priority>WARNING</priority>
                            <description>Network latency has exceeded warning threshold</description>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>d1e2f3a4-b5c6-47d8-a9f0-a1b2c3d4e5f6</uuid>
                    <name>Device Discovery</name>
                    <type>HTTP_AGENT</type>
                    <key>eerovista.discovery.devices</key>
                    <delay>5m</delay>
                    <lifetime>7d</lifetime>
                    <description>Discovers all devices on the Eero network</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>e1f2a3b4-c5d6-4e7f-a8b9-c0d1e2f3a4b5</uuid>
                            <name>Device [{#HOSTNAME}]: Connected</name>
                            <type>HTTP_AGENT</type>
                            <key>device.connected[{#MAC}]</key>
                            <delay>1m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <description>Connection status for device {#HOSTNAME} (1=online, 0=offline)</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>device</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.connected[{#MAC}]</url>
                        </item_prototype>
                        <item_prototype>
                            <uuid>f2a3b4c5-d6e7-4f8a-b9c0-d1e2f3a4b5c7</uuid>
                            <name>Device [{#HOSTNAME}]: Signal Strength</name>
                            <type>HTTP_AGENT</type>
                            <key>device.signal[{#MAC}]</key>
                            <delay>2m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <units>dBm</units>
                            <description>WiFi signal strength for device {#HOSTNAME} in dBm</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>device</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.signal[{#MAC}]</url>
                        </item_prototype>
                        <item_prototype>
                            <uuid>a3b4c5d6-e7f8-4a9b-80d1-e2f3a4b5c6d7</uuid>
                            <name>Device [{#HOSTNAME}]: Bandwidth Download</name>
                            <type>HTTP_AGENT</type>
                            <key>device.bandwidth.down[{#MAC}]</key>
                            <delay>2m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <units>Mbps</units>
                            <description>Current download bandwidth for device {#HOSTNAME}</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>device</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.bandwidth.down[{#MAC}]</url>
                        </item_prototype>
                        <item_prototype>
                            <uuid>b4c5d6e7-f8a9-4b0c-91e2-f3a4b5c6d7e8</uuid>
                            <name>Device [{#HOSTNAME}]: Bandwidth Upload</name>
                            <type>HTTP_AGENT</type>
                            <key>device.bandwidth.up[{#MAC}]</key>
                            <delay>2m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <units>Mbps</units>
                            <description>Current upload bandwidth for device {#HOSTNAME}</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>device</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.bandwidth.up[{#MAC}]</url>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <uuid>c1d2e3f4-a5b6-4c7d-a8f9-a0b1c2d3e4f5</uuid>
                            <expression>last(/eeroVista Network Monitor/device.connected[{#MAC}])=0</expression>
                            <name>Device {#HOSTNAME} is offline</name>
                            <priority>WARNING</priority>
                            <description>Device {#HOSTNAME} ({#NICKNAME}) has disconnected from the network</description>
                        </trigger_prototype>
                        <trigger_prototype>
                            <uuid>d2e3f4a5-b6c7-4d8e-b9a0-b1c2d3e4f5a6</uuid>
                            <expression>last(/eeroVista Network Monitor/device.signal[{#MAC}])&lt;{$SIGNAL_WARN}</expression>
                            <name>Device {#HOSTNAME} has weak signal (&lt; {$SIGNAL_WARN} dBm)</name>
                            <priority>WARNING</priority>
                            <description>WiFi signal strength for {#HOSTNAME} is below warning threshold</description>
                        </trigger_prototype>
                        <trigger_prototype>
                            <uuid>e3f4a5b6-c7d8-4e9f-a0b1-c2d3e4f5a6b7</uuid>
                            <expression>last(/eeroVista Network Monitor/device.signal[{#MAC}])&lt;{$SIGNAL_CRIT}</expression>
                            <name>Device {#HOSTNAME} has critical signal (&lt; {$SIGNAL_CRIT} dBm)</name>
                            <priority>HIGH</priority>
                            <description>WiFi signal strength for {#HOSTNAME} is critically low</description>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/discovery/devices</url>
                </discovery_rule>
                <discovery_rule>
                    <uuid>f4a5b6c7-d8e9-4f0a-b1c2-d3e4f5a6b7c8</uuid>
                    <name>Node Discovery</name>
                    <type>HTTP_AGENT</type>
                    <key>eerovista.discovery.nodes</key>
                    <delay>10m</delay>
                    <lifetime>30d</lifetime>
                    <description>Discovers all Eero mesh nodes</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>a5b6c7d8-e9f0-4a1b-82d3-e4f5a6b7c8da</uuid>
                            <name>Node [{#NODE_NAME}]: Status</name>
                            <type>HTTP_AGENT</type>
                            <key>node.status[{#NODE_ID}]</key>
                            <delay>2m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <description>Status for Eero node {#NODE_NAME} (1=online, 0=offline)</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>node</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.status[{#NODE_ID}]</url>
                        </item_prototype>
                        <item_prototype>
                            <uuid>b6c7d8e9-f0a1-4b2c-93e4-f5a6b7c8d9e1</uuid>
                            <name>Node [{#NODE_NAME}]: Connected Devices</name>
                            <type>HTTP_AGENT</type>
                            <key>node.devices[{#NODE_ID}]</key>
                            <delay>2m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <description>Number of devices connected to node {#NODE_NAME}</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>node</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.devices[{#NODE_ID}]</url>
                        </item_prototype>
                        <item_prototype>
                            <uuid>c7d8e9f0-a1b2-4c3d-a4f5-a6b7c8d9e0f1</uuid>
                            <name>Node [{#NODE_NAME}]: Mesh Quality</name>
                            <type>HTTP_AGENT</type>
                            <key>node.mesh_quality[{#NODE_ID}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>365d</trends>
                            <value_type>FLOAT</value_type>
                            <description>Mesh quality for node {#NODE_NAME} (1-5 bars)</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>node</value>
                                </tag>
                            </tags>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <parameters>
                                        <parameter>$.value</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.mesh_quality[{#NODE_ID}]</url>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <uuid>d4e5f6a7-b8c9-4d0e-b1a2-b3c4d5e6f7a8</uuid>
                            <expression>last(/eeroVista Network Monitor/node.status[{#NODE_ID}])=0</expression>
                            <name>Eero node {#NODE_NAME} is offline</name>
                            <priority>HIGH</priority>
                            <description>Eero mesh node {#NODE_NAME} ({#NODE_MODEL}) has gone offline</description>
                        </trigger_prototype>
                        <trigger_prototype>
                            <uuid>e5f6a7b8-c9d0-4e1f-a2b3-c4d5e6f7a8b9</uuid>
                            <expression>last(/eeroVista Network Monitor/node.mesh_quality[{#NODE_ID}])&lt;3</expression>
                            <name>Eero node {#NODE_NAME} has poor mesh quality</name>
                            <priority>WARNING</priority>
                            <description>Mesh quality for node {#NODE_NAME} is below 3 bars</description>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <url>http://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/discovery/nodes</url>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$EEROVISTA_PORT}</macro>
                    <value>8080</value>
                    <description>HTTP port for eeroVista instance</description>
                </macro>
                <macro>
                    <macro>{$SIGNAL_WARN}</macro>
                    <value>-70</value>
                    <description>WiFi signal strength warning threshold in dBm</description>
                </macro>
                <macro>
                    <macro>{$SIGNAL_CRIT}</macro>
                    <value>-80</value>
                    <description>WiFi signal strength critical threshold in dBm</description>
                </macro>
                <macro>
                    <macro>{$SPEED_WARN}</macro>
                    <value>100</value>
                    <description>Download speed warning threshold in Mbps</description>
                </macro>
                <macro>
                    <macro>{$LATENCY_WARN}</macro>
                    <value>50</value>
                    <description>Latency warning threshold in milliseconds</description>
                </macro>
            </macros>
        </template>
    </templates>
</zabbix_export>
