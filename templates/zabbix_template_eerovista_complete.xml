<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.0</version>
    <date>2025-10-20T18:00:00Z</date>
    <templates>
        <template>
            <uuid>63a7593e51c64b13ad2241b1bb686ad3</uuid>
            <template>eeroVista Device Template</template>
            <name>eeroVista Device Template</name>
            <description>Template for monitoring individual eeroVista devices.

This template is automatically linked to hosts created by the
eeroVista Auto-Discovery template.

Items monitored:
- Connection status (online/offline)
- WiFi signal strength (dBm)
- Download bandwidth (Mbps)
- Upload bandwidth (Mbps)

Triggers:
- Device offline alert
- Weak signal warning (-70 dBm)
- Critical signal alert (-80 dBm)

Required macros (set automatically by host prototype):
- {$DEVICE_MAC} - Device MAC address
- {$DEVICE_HOSTNAME} - Device hostname
- {$DEVICE_NICKNAME} - Device nickname
- {$EEROVISTA_SCHEME} - http or https (inherited)
- {$EEROVISTA_PORT} - eeroVista port (inherited)

Documentation: https://github.com/Yeraze/eeroVista</description>
            <groups>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>3f70561fa4124fd8b7e659c0e401c1cc</uuid>
                    <name>Device Connection Status</name>
                    <type>HTTP_AGENT</type>
                    <key>device.connected</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Connection status for {$DEVICE_HOSTNAME} (1=online, 0=offline)</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>device</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.connected[{$DEVICE_MAC}]</url>
                    <triggers>
                        <trigger>
                            <uuid>b7ff4f5b14d14d09bc4cb52f16957660</uuid>
                            <expression>last(/eeroVista Device Template/device.connected)=0</expression>
                            <name>Device {$DEVICE_HOSTNAME} is offline</name>
                            <priority>WARNING</priority>
                            <description>Device {$DEVICE_HOSTNAME} ({$DEVICE_NICKNAME}) has disconnected from the network</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>0554bcca76fa44588f9b6abe6b958688</uuid>
                    <name>Device Signal Strength</name>
                    <type>HTTP_AGENT</type>
                    <key>device.signal</key>
                    <delay>2m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <description>WiFi signal strength for {$DEVICE_HOSTNAME} in dBm</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>device</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.signal[{$DEVICE_MAC}]</url>
                    <triggers>
                        <trigger>
                            <uuid>44020a241d9b4bd2a291f407ecb5156d</uuid>
                            <expression>last(/eeroVista Device Template/device.signal)&lt;{$SIGNAL_WARN}</expression>
                            <name>Device {$DEVICE_HOSTNAME} has weak signal</name>
                            <priority>WARNING</priority>
                            <description>WiFi signal strength for {$DEVICE_HOSTNAME} is below {$SIGNAL_WARN} dBm</description>
                        </trigger>
                        <trigger>
                            <uuid>6b2022b321a7415896daea7e904696e8</uuid>
                            <expression>last(/eeroVista Device Template/device.signal)&lt;{$SIGNAL_CRIT}</expression>
                            <name>Device {$DEVICE_HOSTNAME} has critical signal</name>
                            <priority>HIGH</priority>
                            <description>WiFi signal strength for {$DEVICE_HOSTNAME} is critically low (&lt; {$SIGNAL_CRIT} dBm)</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>8f766ed45b954c529fead6f638f39a37</uuid>
                    <name>Device Bandwidth Download</name>
                    <type>HTTP_AGENT</type>
                    <key>device.bandwidth.down</key>
                    <delay>2m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Mbps</units>
                    <description>Current download bandwidth for {$DEVICE_HOSTNAME}</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>device</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.bandwidth.down[{$DEVICE_MAC}]</url>
                </item>
                <item>
                    <uuid>b255f07c8d95474f8ffed5e37efd6666</uuid>
                    <name>Device Bandwidth Upload</name>
                    <type>HTTP_AGENT</type>
                    <key>device.bandwidth.up</key>
                    <delay>2m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <units>Mbps</units>
                    <description>Current upload bandwidth for {$DEVICE_HOSTNAME}</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>device</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=device.bandwidth.up[{$DEVICE_MAC}]</url>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$PARENT_HOST}</macro>
                    <value>localhost</value>
                    <description>Hostname or IP of parent eeroVista server (inherited from parent host)</description>
                </macro>
                <macro>
                    <macro>{$SIGNAL_WARN}</macro>
                    <value>-70</value>
                    <description>WiFi signal strength warning threshold in dBm</description>
                </macro>
                <macro>
                    <macro>{$SIGNAL_CRIT}</macro>
                    <value>-80</value>
                    <description>WiFi signal strength critical threshold in dBm</description>
                </macro>
            </macros>
        </template>
        <template>
            <uuid>e511421ee81d422486d200127661fd94</uuid>
            <template>eeroVista Node Template</template>
            <name>eeroVista Node Template</name>
            <description>Template for monitoring individual eeroVista mesh nodes.

This template is automatically linked to hosts created by the
eeroVista Auto-Discovery template.

Items monitored:
- Node status (online/offline)
- Connected devices count
- Mesh quality (1-5 bars)

Triggers:
- Node offline alert (HIGH priority)
- Poor mesh quality warning (&lt;3 bars)

Required macros (set automatically by host prototype):
- {$NODE_ID} - Eero node ID
- {$NODE_NAME} - Node location name
- {$NODE_MODEL} - Node hardware model
- {$EEROVISTA_SCHEME} - http or https (inherited)
- {$EEROVISTA_PORT} - eeroVista port (inherited)

Documentation: https://github.com/Yeraze/eeroVista</description>
            <groups>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>427a0d400e78467f8e1a3d326cc0c9da</uuid>
                    <name>Node Status</name>
                    <type>HTTP_AGENT</type>
                    <key>node.status</key>
                    <delay>2m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Status for Eero node {$NODE_NAME} (1=online, 0=offline)</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>node</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.status[{$NODE_ID}]</url>
                    <triggers>
                        <trigger>
                            <uuid>b6714401923b4fd8bd41a756b4f640c9</uuid>
                            <expression>last(/eeroVista Node Template/node.status)=0</expression>
                            <name>Eero node {$NODE_NAME} is offline</name>
                            <priority>HIGH</priority>
                            <description>Eero mesh node {$NODE_NAME} ({$NODE_MODEL}) has gone offline</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1197fd4aec9748fb83a2bc27b8734320</uuid>
                    <name>Node Connected Devices</name>
                    <type>HTTP_AGENT</type>
                    <key>node.devices</key>
                    <delay>2m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Number of devices connected to node {$NODE_NAME}</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>node</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.devices[{$NODE_ID}]</url>
                </item>
                <item>
                    <uuid>62bcfe2c752f4462a1994295c794c685</uuid>
                    <name>Node Mesh Quality</name>
                    <type>HTTP_AGENT</type>
                    <key>node.mesh_quality</key>
                    <delay>5m</delay>
                    <history>7d</history>
                    <trends>365d</trends>
                    <value_type>FLOAT</value_type>
                    <description>Mesh quality for node {$NODE_NAME} (1-5 bars)</description>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>node</value>
                        </tag>
                    </tags>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>{$EEROVISTA_SCHEME}://{$PARENT_HOST}:{$EEROVISTA_PORT}/api/zabbix/data?item=node.mesh_quality[{$NODE_ID}]</url>
                    <triggers>
                        <trigger>
                            <uuid>cb23311444464ee48bb6f08dbb313db2</uuid>
                            <expression>last(/eeroVista Node Template/node.mesh_quality)&lt;3</expression>
                            <name>Eero node {$NODE_NAME} has poor mesh quality</name>
                            <priority>WARNING</priority>
                            <description>Mesh quality for node {$NODE_NAME} is below 3 bars</description>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$PARENT_HOST}</macro>
                    <value>localhost</value>
                    <description>Hostname or IP of parent eeroVista server (inherited from parent host)</description>
                </macro>
            </macros>
        </template>
        <template>
            <uuid>0c88a723b8d34fef9933c4e859610935</uuid>
            <template>eeroVista Auto-Discovery</template>
            <name>eeroVista Auto-Discovery</name>
            <description>Template for auto-discovering Eero devices and nodes as individual Zabbix hosts.

Features:
- Automatically creates hosts for each discovered device
- Automatically creates hosts for each discovered node
- Populates Zabbix inventory with device/node details
- Each host can be linked to monitoring templates
- Supports both HTTP and HTTPS via macros

Requirements:
- eeroVista instance running and accessible
- Zabbix 6.0+ (for host prototype support)
- HTTP/HTTPS agent connectivity from Zabbix server to eeroVista

Configuration:
1. Create a host for your eeroVista instance
2. Set interface to HTTP agent
3. Set {$EEROVISTA_SCHEME} macro (default: http, use https for reverse proxy)
4. Set {$EEROVISTA_PORT} macro (default: 8080)
5. Set {$EEROVISTA_HOST_GROUP} macro (default: eeroVista/Devices)
6. Link this template to the host
7. Discovered devices and nodes will be created as individual hosts with inventory

Documentation: https://github.com/Yeraze/eeroVista</description>
            <groups>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <uuid>d3f77c1f0255418ab923b59ddc4fc472</uuid>
                    <name>Device Auto-Discovery</name>
                    <type>HTTP_AGENT</type>
                    <key>eerovista.autodiscovery.devices</key>
                    <delay>10m</delay>
                    <lifetime>30d</lifetime>
                    <description>Discovers all devices and creates individual Zabbix hosts for each</description>
                    <host_prototypes>
                        <host_prototype>
                            <uuid>551091568e334e84a525311e1fa5062e</uuid>
                            <host>eeroVista-Device-{#HOSTNAME}</host>
                            <name>eeroVista Device: {#HOSTNAME}</name>
                            <group_links>
                                <group_link>
                                    <group>
                                        <name>eeroVista/Devices</name>
                                    </group>
                                </group_link>
                            </group_links>
                            <templates>
                                <template>
                                    <name>eeroVista Device Template</name>
                                </template>
                            </templates>
                            <macros>
                                <macro>
                                    <macro>{$DEVICE_MAC}</macro>
                                    <value>{#MAC}</value>
                                </macro>
                                <macro>
                                    <macro>{$DEVICE_HOSTNAME}</macro>
                                    <value>{#HOSTNAME}</value>
                                </macro>
                                <macro>
                                    <macro>{$DEVICE_NICKNAME}</macro>
                                    <value>{#NICKNAME}</value>
                                </macro>
                                <macro>
                                    <macro>{$DEVICE_TYPE}</macro>
                                    <value>{#DEVICE_TYPE}</value>
                                </macro>
                            </macros>
                            <custom_interfaces>YES</custom_interfaces>
                            <interfaces>
                                <interface>
                                    <default>YES</default>
                                    <type>ZABBIX</type>
                                    <useip>NO</useip>
                                    <ip></ip>
                                    <dns>{HOST.HOST}</dns>
                                    <port>10050</port>
                                </interface>
                            </interfaces>
                            <inventory_mode>AUTOMATIC</inventory_mode>
                        </host_prototype>
                    </host_prototypes>
                    <url>{$EEROVISTA_SCHEME}://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/discovery/devices</url>
                </discovery_rule>
                <discovery_rule>
                    <uuid>09fcbadecf9f492d8261ce7edeee293a</uuid>
                    <name>Node Auto-Discovery</name>
                    <type>HTTP_AGENT</type>
                    <key>eerovista.autodiscovery.nodes</key>
                    <delay>30m</delay>
                    <lifetime>90d</lifetime>
                    <description>Discovers all Eero nodes and creates individual Zabbix hosts for each</description>
                    <host_prototypes>
                        <host_prototype>
                            <uuid>48dc2ace07454a30baab77aa52813614</uuid>
                            <host>eeroVista-Node-{#NODE_NAME}</host>
                            <name>eeroVista Node: {#NODE_NAME}</name>
                            <group_links>
                                <group_link>
                                    <group>
                                        <name>eeroVista/Nodes</name>
                                    </group>
                                </group_link>
                            </group_links>
                            <templates>
                                <template>
                                    <name>eeroVista Node Template</name>
                                </template>
                            </templates>
                            <macros>
                                <macro>
                                    <macro>{$NODE_ID}</macro>
                                    <value>{#NODE_ID}</value>
                                </macro>
                                <macro>
                                    <macro>{$NODE_NAME}</macro>
                                    <value>{#NODE_NAME}</value>
                                </macro>
                                <macro>
                                    <macro>{$NODE_MODEL}</macro>
                                    <value>{#NODE_MODEL}</value>
                                </macro>
                            </macros>
                            <custom_interfaces>YES</custom_interfaces>
                            <interfaces>
                                <interface>
                                    <default>YES</default>
                                    <type>ZABBIX</type>
                                    <useip>NO</useip>
                                    <ip></ip>
                                    <dns>{HOST.HOST}</dns>
                                    <port>10050</port>
                                </interface>
                            </interfaces>
                            <inventory_mode>AUTOMATIC</inventory_mode>
                        </host_prototype>
                    </host_prototypes>
                    <url>{$EEROVISTA_SCHEME}://{HOST.CONN}:{$EEROVISTA_PORT}/api/zabbix/discovery/nodes</url>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$EEROVISTA_SCHEME}</macro>
                    <value>http</value>
                    <description>Protocol scheme for eeroVista instance (http or https)</description>
                </macro>
                <macro>
                    <macro>{$EEROVISTA_PORT}</macro>
                    <value>8080</value>
                    <description>Port for eeroVista instance</description>
                </macro>
            </macros>
        </template>
    </templates>
</zabbix_export>
